# Библиотека - Flask приложение

Веб-приложение для управления библиотекой книг с использованием Flask и MS SQL Server.

## Требования

- Python 3.7+
- MS SQL Server
- ODBC Driver 18 for SQL Server

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Убедитесь, что MS SQL Server запущен на localhost:1433

3. Создайте необходимые хранимые процедуры в базе данных:
   - `select_all_books_pr` - получение всех книг
   - `select_pr` - получение одной книги по ID
   - `insert_pr` - добавление новой книги
   - `update_pr` - обновление книги
   - `delete_pr` - удаление книги

## Запуск

```bash
python app.py
```

Приложение будет доступно по адресу: http://127.0.0.1:5000/

## Функциональность

- **Список книг** - просмотр всех книг в библиотеке
- **Добавление книги** - добавление новой книги с XML оглавлением
- **Редактирование книги** - изменение данных книги
- **Удаление книги** - удаление книги из библиотеки
- **XML редактор** - встроенный TinyMCE редактор для работы с XML оглавлением

## Структура проекта

```
library_app/
├── app.py              # основной файл с Flask-приложением
├── templates/          # HTML-шаблоны
│   ├── book_list.html  # список книг
│   └── book_card.html  # форма книги
├── static/             # статические файлы
│   └── editor/
├── requirements.txt    # зависимости
└── README.md          # документация
```

## Настройка подключения к БД

Измените параметры подключения в `app.py`:

```python
conn = pyodbc.connect(
    "Driver={ODBC Driver 18 for SQL Server};"
    "Server=localhost,1433;"
    "Database=master;"
    "UID=sa;"
    "PWD=your_password;"
)
```
